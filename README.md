# ksl-micro
микро-фреймворк PHP

Данный фреймворк я создал для работы над своими небольшими проектами. Для больших предпочитаю использование Laravel-5 или Yii2. 

Приставку "микро" дал в связи с тем, что он содержит только самые необходимые инструменты. Тем не менее заложена основа для расширения в виде реализации сервис-контейнера. 
Фреймворк основан на использовании шаблона проектирования MVC.

В структуре уже созданы некоторые тестовые классы и файлы (контроллер и др.) для демонстрации войможностей. Так же, в корне проекта, есть дамп тестовой базы данных из двух таблиц.


УСТАНОВКА.
Для установки и тестирования клонируйте этот репозиторий или просто скачайте архив. В файле config.php внесите настройки для соединения с базой данных (по-умолчанию "test") и импортируйте в нее тестовый дамп из корня приложения. Все, после перезагрузки локального сервера, можно тестировать. 
Я создал тестовый контроллер ksl-micro\app\controllers\SiteController.php содержащий несколько действий (методов) выводящих:
- главную страницу с выводом всех постов http://ksl-micro
- страницу отдельного поста http://ksl-micro/post1.html
- статичную страницу http://ksl-micro/contacts.html
- страницу ошибки 404(Not Found)


КРАТКОЕ ОПИСАНИЕ ОСНОВНЫХ КОМПОНЕНТОВ.
В каталоге public я разместил "точку входа", файл index.php и другие публичные файлы к которым есть доступ из вне.
Каталог vendor содержит служебные классы фреймворка.
Каталог app содержит пользовательские классы и файлы реализующие шаблон MVC.

Разобраться в работе моего микро-фреймворка не сложно, т.к. я старался сделать его использование максимально похожим с топовыми php-фреймворками.
В точке входа (файле index.php) создается объект приложения - экземпляр класса Application который, первым делом создает объект сервис-контейнера, используемый в дальнейшем на протяжении всей работы приложения. Сервис-контейнер реализует шаблон проектирования "Singleton" и предоставляет доступ к любому объекту хранимому в нем. Так же, он позволяет использовать "внедрение зависимостей" в конструктор нужного класса.

Просмотрев код класса Application, можно получить представление о прохождении запроса на сервер и формировании ответа браузеру. Прежде всего, объект Request получает и сохраняет данные запроса. Объект класса Router работает с get-параметрами запроса, выделяя контроллер и действие, которые должны будут его обработать. При этом, если в настройках стоит использование ЧПУ ссылок, то создается подключение к базе данных, где в таблице "url_alias" происходит поиск контроллера/действия в зависимости от полученного алиаса из URL.

